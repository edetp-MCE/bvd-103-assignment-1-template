server {
  listen 80;

  # Frontend
  location / {
    proxy_pass http://front-end:9080/;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
  }

  # Listings Service
  location /api/listings/ {
    proxy_pass http://listings:3000/;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
  }

  # Orders Service
  location /api/orders/ {
    proxy_pass http://orders:3000/;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
  }

  # Warehouse Service
  location /api/warehouse/ {
    proxy_pass http://warehouse:3000/;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
  }

  # Optional: API Docs (served from orders or any one service)
  location /api/docs/ {
    proxy_pass http://orders:3000/docs/;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
  }
}
